name: trendfollow
filter:
  longSignal: trend(close,21) > 1
  shortSignal: trend(close,21) < -1
  topFilterIndicator: abs(trend(close,21))
  tradeSymbolLimit: 5
  args:
    period: 9days
    tf: week
    maxLoadedItems: 41
signals:
  enter:
    long: 
      signal: crossoverup(close, min(ema(close,200)+5*atr(14), 50))
      initialStop: previous(min(low,240),1)
      timeframe: 15min
      maxLoadedItems: 2000
    short:
      signal: crossoverdown(close, max(ema(close,200)-5*atr(14), 50))
      initialStop: previous(max(high,240),1)
      timeframe: 15min
      maxLoadedItems: 2000
  exit:
    long:
      signal: low < previous(min(low,240),1)
      timeframe: 15min
      maxLoadedItems: 2500
    short:
      signal: high > previous(max(high,240),1)
      timeframe: 15min
      maxLoadedItems: 2500
maxExposure: 3
